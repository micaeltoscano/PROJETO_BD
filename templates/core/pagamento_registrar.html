{% extends 'base.html' %}

{% block title %}Registrar Pagamentos - Barbearia{% endblock %}

{% block content %}
<div class="row justify-content-center">
    <div class="col-md-10">
        <div class="card shadow">
            <div class="card-header bg-success text-white">
                <h4 class="mb-0"><i class="fas fa-money-bill-wave me-2"></i> Registrar Pagamentos</h4>
            </div>
            <div class="card-body">
                <ul class="nav nav-tabs mb-4" id="paymentTabs" role="tablist">
                    <li class="nav-item" role="presentation">
                        <button class="nav-link active" id="service-tab" data-bs-toggle="tab" data-bs-target="#service" type="button" role="tab" aria-controls="service" aria-selected="true">
                            <i class="fas fa-concierge-bell me-1"></i> Pagamento de Serviço
                        </button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="product-tab" data-bs-toggle="tab" data-bs-target="#product" type="button" role="tab" aria-controls="product" aria-selected="false">
                            <i class="fas fa-shopping-cart me-1"></i> Pagamento de Produto
                        </button>
                    </li>
                </ul>
                
                <div class="tab-content" id="paymentTabsContent">
                    <!-- Aba de Pagamento de Serviço -->
                    <div class="tab-pane fade show active" id="service" role="tabpanel" aria-labelledby="service-tab">
                        <form method="POST" action="{% url 'registrar_pagamento_servico' %}">
                            {% csrf_token %}
                            <h5 class="mb-3 text-primary"><i class="fas fa-concierge-bell me-2"></i>Pagamento de Serviço</h5>
                            
                            <div class="row mb-3">
                                <div class="col-md-6">
                                    <label for="id_agenda" class="form-label">ID do Agendamento <span class="text-danger">*</span></label>
                                    <input type="number" class="form-control" id="id_agenda" name="id_agenda" required 
                                           placeholder="Ex: 1" min="1">
                                    <div class="form-text">ID do agendamento a ser pago</div>
                                </div>
                                <div class="col-md-6">
                                    <label for="metodo_pagamento_servico" class="form-label">Método de Pagamento <span class="text-danger">*</span></label>
                                    <select class="form-select" id="metodo_pagamento_servico" name="metodo_pagamento" required>
                                        <option value="" selected disabled>Selecione o método</option>
                                        <option value="DINHEIRO">Dinheiro</option>
                                        <option value="CARTAO_CREDITO">Cartão de Crédito</option>
                                        <option value="CARTAO_DEBITO">Cartão de Débito</option>
                                        <option value="PIX">PIX</option>
                                        <option value="TRANSFERENCIA">Transferência Bancária</option>
                                    </select>
                                </div>
                            </div>
                            
                            <div class="d-flex justify-content-between align-items-center">
                                <a href="{% url 'home' %}" class="btn btn-secondary">
                                    <i class="fas fa-arrow-left me-1"></i> Voltar
                                </a>
                                <button type="submit" class="btn btn-success">
                                    <i class="fas fa-check me-1"></i> Registrar Pagamento
                                </button>
                            </div>
                        </form>
                    </div>
                    
                   

<!-- Incluir Bootstrap JS para funcionalidade das abas -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>

<style>
.card {
    border: none;
    border-radius: 0.5rem;
}

.card-header {
    border-radius: 0.5rem 0.5rem 0 0 !important;
}

.nav-tabs .nav-link {
    border: none;
    border-bottom: 3px solid transparent;
    color: #6c757d;
    font-weight: 500;
}

.nav-tabs .nav-link.active {
    color: #0d6efd;
    border-bottom: 3px solid #0d6efd;
    background: transparent;
}

.nav-tabs .nav-link:hover {
    border-color: transparent;
    color: #0d6efd;
}

.form-control:focus {
    border-color: #0d6efd;
    box-shadow: 0 0 0 0.25rem rgba(13, 110, 253, 0.25);
}

.btn {
    border-radius: 0.375rem;
    padding: 0.5rem 1.5rem;
}

.shadow {
    box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15) !important;
}

.shadow-sm {
    box-shadow: 0 0.125rem 0.25rem rgba(0, 0, 0, 0.075) !important;
}
</style>
{% endblock %}